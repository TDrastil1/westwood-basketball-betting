<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Westwood Basketball Betting</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Westwood Basketball Betting</h1>
            <p>Place your bets and see the possible payouts!</p>
        </header>

        <div class="betting-form">
            <h2>Place Your Bet</h2>
            <form id="betForm">
                <!-- User Name -->
                <div class="form-group">
                    <label for="userName">Your Name:</label>
                    <input type="text" id="userName" name="userName" placeholder="Enter your name" required>
                </div>

                <!-- Player Selection -->
                <div class="form-group">
                    <label for="player">Select Player:</label>
                    <select id="player" name="player">
                        <option value="Matthew Suk">Matthew Suk</option>
                        <option value="Ari Piller">Ari Piller</option>
                        <option value="Evan Ludeman">Evan Ludeman</option>
                        <option value="Valin Lively">Valin Lively</option>
                        <option value="Reeyan Mistry">Reeyan Mistry</option>
                        <option value="Arman Aslan">Arman Aslan</option>
                        <option value="Ntito Josiah-Olu">Ntito Josiah-Olu</option>
                        <option value="Cyrus Terry">Cyrus Terry</option>
                        <option value="Pierre Tissot">Pierre Tissot</option>
                        <option value="Mark Djomo">Mark Djomo</option>
                    </select>
                </div>

                <!-- Stat Selection -->
                <div class="form-group">
                    <label for="stat">Select Stat:</label>
                    <select id="stat" name="stat">
                        <option value="points">Points</option>
                        <option value="assists">Assists</option>
                        <option value="rebounds">Rebounds</option>
                    </select>
                </div>

                <!-- Expected Stat and Bet Amount Inputs -->
                <div class="form-group">
                    <label for="expected-stat">Enter Expected Stat Amount:</label>
                    <input type="number" id="expected-stat" name="expected-stat" required placeholder="e.g. 20">
                </div>

                <div class="form-group">
                    <label for="amount">Enter Bet Amount (in ς):</label>
                    <input type="number" id="amount" name="amount" min="1" required>
                </div>

                <!-- Bet Summary (Hidden for now) -->
                <div class="bet-summary">
                    <h3>Your Bet Summary</h3>
                    <p id="summary">Select your bet details to see the summary.</p>
                </div>

                <!-- Possible Payout Section -->
                <div class="payout-summary">
                    <h3>Possible Payout</h3>
                    <p id="payout">Select player and stat to calculate the payout.</p>
                </div>

            </form>
        </div>

        <div class="scoreboard">
            <h3>Player Stats</h3>
            <table>
                <thead>
                    <tr>
                        <th>Player</th>
                        <th>Points</th>
                        <th>Assists</th>
                        <th>Rebounds</th>
                    </tr>
                </thead>
                <tbody id="scoreboard-body">
                    <!-- Player stats will populate here -->
                </tbody>
            </table>
        </div>

        <footer>
            <p>&copy; 2024 Westwood School. All Rights Reserved.</p>
        </footer>
    </div>

    <script>
        // Player stats based on your provided data
        const playerStats = {
            "Matthew Suk": { points: 2.0, assists: 4.0, rebounds: 4.0 },
            "Ari Piller": { points: 10.0, assists: 3.0, rebounds: 3.0 },
            "Evan Ludeman": { points: 4.0, assists: 4.0, rebounds: 0.0 },
            "Valin Lively": { points: 0.0, assists: 1.0, rebounds: 4.0 },
            "Reeyan Mistry": { points: 2.0, assists: 0.0, rebounds: 1.0 },
            "Arman Aslan": { points: 0.0, assists: 3.0, rebounds: 4.0 },
            "Ntito Josiah-Olu": { points: 0.0, assists: 0.0, rebounds: 0.0 },
            "Cyrus Terry": { points: 4.0, assists: 6.0, rebounds: 3.0 },
            "Pierre Tissot": { points: 14.0, assists: 6.0, rebounds: 6.0 },
            "Mark Djomo": { points: 10.0, assists: 3.0, rebounds: 4.0 },
        };

        // Function to update the scoreboard with stats
        function updateScoreboard() {
            const scoreboardBody = document.getElementById("scoreboard-body");
            scoreboardBody.innerHTML = ''; // Clear current stats

            // Loop through playerStats and display each player's stats in the table
            for (let player in playerStats) {
                const stats = playerStats[player];
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td>${player}</td>
                    <td>${stats.points}</td>
                    <td>${stats.assists}</td>
                    <td>${stats.rebounds}</td>
                `;
                scoreboardBody.appendChild(row);
            }
        }

        // Handle form submission to calculate the possible payout
        document.getElementById("betForm").addEventListener("input", function (event) {
            event.preventDefault(); // Prevent the form from submitting the default way

            // Get values from the form
            let player = document.getElementById("player").value;
            let stat = document.getElementById("stat").value;
            let amount = parseFloat(document.getElementById("amount").value); // Ensure bet amount is a number
            let expectedStat = parseFloat(document.getElementById("expected-stat").value); // Ensure expected stat is a number

            // Update possible payout
            updatePayout(player, stat, expectedStat, amount);
        });

        // Function to update the possible payout based on stats
        function updatePayout(player, stat, expectedStat, amount) {
            const stats = playerStats[player];
            if (!stats) {
                document.getElementById("payout").innerHTML = `<p>No stats available for this player.</p>`;
                return;
            }

            // Get the actual stat value
            const actualStat = stats[stat];

            // Calculate the payout (simple multiplier logic)
            let payout = 0;
            if (actualStat >= expectedStat) {
                payout = amount * 2; // Fixed payout multiplier (2x the bet amount)
            } else {
                payout = amount * 1.5; // If actual stat is less, 1.5x payout
            }

            // Display the possible payout
            document.getElementById("payout").innerHTML = `
                <p><strong>Actual ${stat.charAt(0).toUpperCase() + stat.slice(1)}:</strong> ${actualStat}</p>
                <p><strong>Expected ${stat.charAt(0).toUpperCase() + stat.slice(1)}:</strong> ${expectedStat}</p>
                <p><strong>Possible Payout:</strong> ${payout.toFixed(2)} ς</p>
            `;
        }

        // Initialize the scoreboard when the page loads
        updateScoreboard();
    </script>
</body>
</html>
